{% extends "global/base.html" %}
{% load getDict %}

{% block content %}
    <div class='container-2'>
        <h1>Projetos</h1>
        <details>
            
            {% if filter_tag %}
            <summary class='tag-filter'>Filtro | {{ filter_tag.title }}</summary>

            {% else %}
            <summary class='tag-filter'>Filtro</summary>

            {% endif %}
            <form method="get">
              <select name="tag">
                <option value="">--------</option>
                {% for tag in tags.all %}
                <option value="{{ tag.slug }}">{{ tag.name }}</option>
                {% endfor %}
              </select>
              <button type="submit" >Filtrar</button>
            </form>
        </details>
        
        {% comment %}
        Tentativa de estilizar o filtro
        
        <div class='custom-dropdown' >
            <div class='custom-summary' tabindex="0">
                <ul class='custom-option'>
                    {% for tag in tags.all %}
                    <li>{{ tag.tag_name }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% endcomment %}
        
    </div>

    <div class='card-container'>
        {% for project in projects %}
        <div class= 'card-item'>
            <a href="{% url 'project:projectDetail' slug=project.slug%}" class="select-project"></a>
            <h1>{{ project.name }}</h1>
            <div class='img-card'></div>
            <div class='card-tags'>
                <ul>
                    {% for tag in custom_tags_list|get_item:project.pk %}
                        <li>{{ tag.name }}</li>     
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% endfor %}  
    </div>
    


{% endblock content %}
